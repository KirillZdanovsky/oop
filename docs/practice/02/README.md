# 2. Наследование и полиморфизм. Интерфейсы и абстрактные классы

## Темы занятия

- Наследование и полиморфизм.
- Модификатор доступа `protected`.
- Интерфейсы, абстрактные классы и множественное наследование.
- Обобщённые классы и методы.

## Теоретические сведения

Модификатор доступа `protected` определяет _защищённые_ члены класса, 
которые могут использоваться классом, который определил их, и любым дочерним 
классом.

## 2.1. Наследование и полиморфизм

Используя тип человека `Human`, созданного в задании [1.3. Тип человека
](/practice/01/#_1-3-тип-чеnовека), выполните следующие задачи:

1. Создайте тип гражданина `Citizen`, унаследовавшись от типа человека.

2. Создайте тип работника `Worker`, унаследовавшись от типа гражданина.

3. Определите модификаторы доступа членов классов.

4. Продемонстрируйте работу с типами гражданина и работника.

5. Продемонстрируйте полиморфизм типа человека и его наследников, создав 
следующую функцию:

    Сигнатура | Возвр. тип | Описание
    --------- |:----------:| --------
    `display(Human[])` | - | Выводит на экран информацию обо всех людях из массива.
    
    Продемонстрируйте работу этой функции, передав ей массив, заполненный 
    экземплярами типа человека и его потомков. Для экземпляров разного типа 
    должна выводиться разная информация.

### Тип гражданина

#### Поля

Создайте следующие поля:

Имя | Тип | Доступ | Описание
:--:|:---:|:------:| --------
`id` | `int` | `Чтение` | Идентификатор гражданина. Должен состоять из `10` цифр.

#### Конструкторы

Создайте следующие конструкторы:

Сигнатура | Описание
--------- | --------
`Citizen(int id, string name, string surname, Gender gender)` | Создаёт гражданина с идентификатором `id`, именем  `name`, фамилией `surname` и полом `gender` (числовые поля равны `0`).
`Citizen(int id, string name, string surname, Gender gender, int age, float height, float weight)` | Создаёт гражданина с идентификатором `id`, именем `name`, фамилией `surname`, полом `gender`, возрастом `age`, ростом `height` и весом `weight`.
`Citizen(Citizen)` | Создаёт гражданина, копируя данные из другого гражданина.

#### Методы

Создайте следующие методы:

Сигнатура | Возвр. тип | Описание
--------- |:----------:| --------
`override` `copy()` | `Citizen` | Возвращает копию гражданина.
`equals(Citizen)` | `bool` | Возвращает результат сравнения гражданина с другим гражданином по имени, фамилии и идентификатору.
`static` `equals(Citizen first, Citizen second)` | `bool` | Возвращает результат сравнения гражданина `first` с гражданином `second` по имени, фамилии и идентификатору.
`override` `toString()` | `string` | Возвращает строку* с информацией о гражданине.
  
Примечания:

*Пример строки:

```
№ 1234567890
Иванов Иван, мужчина, 31 год
Рост: 171,2 см
Вес: 62,3 кг
```

### Тип работника

#### Поля

Создайте следующие поля:

Имя | Тип | Доступ | Описание
:--:|:---:|:------:| --------
`jobTitle` | `string` | `Чтение` `Запись` | Название должности работника.

#### Конструкторы

Создайте следующие конструкторы:

Сигнатура | Описание
--------- | --------
`Worker(string jobTitle, int id, string name, string surname, Gender gender, int age, float height, float weight)` | Создаёт работника с должностью `jobTitle`, идентификатором `id`, именем `name`, фамилией `surname`, полом `gender`, возрастом `age`, ростом `height` и весом `weight`.
`Worker(Worker)` | Создаёт работника, копируя данные из другого работника.

#### Методы

Создайте следующие методы:

Сигнатура | Возвр. тип | Описание
--------- |:----------:| --------
`override` `copy()` | `Worker` | Возвращает копию работника.
`equals(Worker)` | `bool` | Возвращает результат сравнения работника с другим работником по имени, фамилии, идентификатору и названию должности.
`static` `equals(Worker first, Worker second)` | `bool` | Возвращает результат сравнения работника `first` с работником `second` по имени, фамилии, идентификатору и названию должности.
`override` `toString()` | `string` | Возвращает строку* с информацией о работнике.
  
Примечания:

*Пример строки:

```
Инженер-программист
№ 1234567890
Иванов Иван, мужчина, 31 год
Рост: 171,2 см
Вес: 62,3 кг
```

## 2.2. Интерфейсы, абстрактные классы и множественное наследование

## 2.3. Обобщённые классы и методы

Задачи:

1. Создайте обобщённый двусвязный список `List<T>`, где `T` - произвольный тип.

2. Элементы списка должны быть представлены отдельным обобщённым
типом `Item<T>`, вложенным в тип списка.

3. Определите модификаторы доступа членов классов.

4. Продемонстрируйте работу с типом списка.

### Тип элемента списка

#### Поля

Создайте следующие поля:

Имя | Тип | Доступ | Описание
:--:|:---:|:------:| --------
`value` | `T` | `Чтение` `Запись` | Значение, хранимое в элементе списка.
`prev` | `Item<T>` | `Чтение` `Запись` | Ссылка на предыдущий элемент списка.
`next` | `Item<T>` | `Чтение` `Запись` | Ссылка на последующий элемент списка.

Заметьте, что у первого элемента списка нет предудыщего элемента,
а у последего элемента - последующего.

#### Конструкторы

Создайте следующие конструкторы:

Сигнатура | Описание
--------- | --------
`Item(T)` | Создаёт элемент и сохраняет в нём указанное значение.
`Item(T value, Item<T> prev, Item<T> next)` | Создаёт элемент и сохраняет в нём значение `value`, а также ссылки на предыдущий `prex` и последующий `next` элементы списка.
`Item(Item<T>)` | Создаёт элемент, копируя данные из другого элемента.

#### Методы

Создайте следующие методы:

Сигнатура | Возвр. тип | Описание
--------- |:----------:| --------
`equals(Item<T>)` | `bool` | Возвращает результат сравнения элемента с другим элементом по значению.
`static` `equals(Item<T> first, Item<T> second)` | `bool` | Возвращает результат сравнения элемента `first` с элементом `second` по значению.

### Тип двусвязного списка

#### Поля

Создайте следующие поля:

Имя | Тип | Доступ | Описание
:--:|:---:|:------:| --------
`head` | `Item<T>` | - | Ссылка на первый элемент списка.
`tail` | `Item<T>` | - | Ссылка на предыдущий элемент списка.
`size` | `int` | `Чтение` | Количество элементов в списке.

#### Конструкторы

Создайте следующие конструкторы:

Сигнатура | Описание
--------- | --------
`List()` | Создаёт пустой список.
`List(List<T>)` | Создаёт список, копируя данные из другого списка.

#### Методы

Создайте следующие методы:

Сигнатура | Возвр. тип | Описание
--------- |:----------:| --------
`append(T)`| - | Добавляет новый элемент в конец списка.
`append(List<T>)`| - | Добавляет элементы из другого списка в конец списка.
`clear()` | - | Удаляет все элементы из списка.
`contains(T)` | `bool` | Возвращает результат проверки того, что указанное значение есть в списке.
`copy()` | `List<T>` | Возвращает копию списка.
`equals(List<T>)` | `bool` | Возвращает результат поэлементного сравнения списка с другим списком.
`static` `equals(List<T> first, List<T> second)` | `bool` | Возвращает результат поэлементного сравнения `first` со списком `second`.
`getItem(int)` | `T` | Возвращает значение, хранящееся в элементе списка с указанным индексом.
`indexOf(T value, int index)` | `int` | Возвращает индекс первого найденного вхождения значения `value` в пределах всего списка, начиная с указанного индекса `index`.
`insert(T value, int index)` | - | Добавляет новый элемент со значением `value` в список по индексу `index`.
`insert(List<T> list, int index)` | - | Добавляет элементы из другого списка `list` в список, начиная с индекса `index`.
`lastIndexOf(T value, int index)` | `int` | Возвращает индекс последнего найденного вхождения значения `value` в пределах всего списка, начиная с указанного индекса `index`.
`prepend(T)` | - | Добавляет новый элемент в начало списка.
`prepend(List<T>)`| - | Добавляет элементы из другого списка в начало списка.
`remove(int)` | - | Удаляет элемент списка с указанным индексом.
`remove(int start, int end)` | - | Удаляет элементы списка в указанном диапазоне.
`reverse()` | - | Обращает порядок элементов в списке.

::: warning Обратите внимание!
При удалении списка должны удаляться и его элементы. Если вы используете
язык с ручным управлением памятью (например, `C++`), то создайте
**деструктор класса**.
:::